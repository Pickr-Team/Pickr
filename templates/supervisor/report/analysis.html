{% extends 'base-temp.html' %}

{% block title %}Pickr | Report Analysis{% endblock %}


{% block style %}
    <style>
        main {
            padding-top: 100px;
            color: white;
        }
    </style>
{% endblock %}

{% block content %}
    <h1>Report Analysis</h1>
    y:students
    x:number of reports that this student has submitted
    <div id="column-chart" style="width: 600px;height:400px;"></div>
{% endblock %}

{% block link_script %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.6.0/echarts.min.js" integrity="sha512-XSmbX3mhrD2ix5fXPTRQb2FwK22sRMVQTpBP2ac8hX7Dh/605hA2QDegVWiAvZPiXIxOV0CbkmUjGionDpbCmw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% endblock %}

{% block script %}
<script>
      const myChart = echarts.init(document.getElementById('column-chart'));

      option = {
          dataset: {
            source: [
              ['score', 'report', 'student'],
              [89.3, 7, 'Crystal(杨玉婷)'],
              [39.1, 5, 'Jack(张三)'],
              [74.4, 6, 'Wangwu(王五)'],
              [39.1, 4, 'Anna(安娜)'],
              [89.7, 8, 'Olaf(雪宝)'],
              [10.8, 1, 'Laoliu(老刘)'],
            ]
          },
          grid: { containLabel: true },
          xAxis: {
              name: 'Reports',
              axisLabel: {
                textStyle: {
                    color: '#ffffff'
                }
              },
              nameTextStyle: {
                color: '#ffffff'
            },
          },
          yAxis: {
              type: 'category',
              name: 'Student',
              nameTextStyle: {
                    color: '#ffffff'
                },
              axisLabel: {
                textStyle: {
                    color: '#ffffff'
                }
              }
          },
          visualMap: {
            orient: 'horizontal',
            left: 'center',
            min: 10,
            max: 100,
            text: ['High Percentage completed', 'Low Percentage Completed'],
            // Map the score column to color
            dimension: 0,
            inRange: {
              color: ['#65B581', '#FFCE34', '#FD665F']
            },
            textStyle: {
                color: '#FFFFFF'
            }
          },
        series: [
            {
              type: 'bar',
              encode: {
                x: 'report',
                y: 'student'
              }
            }
        ]
    };

      myChart.setOption(option);
</script>
{% endblock %}