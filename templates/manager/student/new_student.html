{% extends 'base-temp.html' %}

{% block title %}Pickr | New Student{% endblock %}

{% block content %}
    <body>
    <section class="page_hearder"><h1 class="first_title">Add New Student</h1>
        <p class="paragraph">In this page,you can add a new student into the system.</p></section>
    <section>
        <div class="_20px_height"></div>
        <div class="w-form">
            <form action="{{ url_for('manager.add_student') }}" id="new_student_form" method="POST">
                <label for="chinese_name" class="text-block _10button_spac">Chinese Name</label>
                <input type="text" class="text-field creatnew w-input" name="chinese_name" id="chinese_name"/>
                <span style="display: none;color: red" id="c-alert">Please input Chinese name</span>
                <label for="english_name" class="text-block _10button_spac">English Name</label>
                <input type="text" class="text-field creatnew w-input" name="english_name" id="english_name"/>
                <span style="display: none;color: red" id="eng-alert">Please input English name</span>
                <label for="class_number" class="text-block _10button_spac">Class Number</label>
                <input type="text" class="text-field creatnew w-input" name="class_number" id="class_number"/>
                <span style="display: none;color: red" id="n-alert">Please input class number</span>
                <label for="email" class="text-block _10button_spac">E-mail</label>
                <input type="text" class="text-field creatnew w-input" name="email" id="email"/>
                <span style="display: none;color: red" id="e-alert">Please input email</span>
                <label for="username" class="text-block _10button_spac">Username(Student ID)</label>
                <input type="text" class="text-field creatnew w-input" name="username" id="username"/>
                <span style="display: none;color: red" id="u-alert">Please input username</span>
                <label for="graduation" class="text-block _10button_spac">Graduation Year</label>
                <input type="number" class="text-field creatnew w-input" name="graduation_year" id="graduation"/>
                <span style="display: none;color: red" id="g-alert">Please input graduation year</span>

                <input style="display: block" type="submit" value="+ Add" data-wait="Please wait..."
                       class="submit-button _20head_spacing w-button"/>
            </form>
        </div>
        <div class="_80px_height"></div>
    </section>
    <script>
        $(document).ready(function () {
            $('#new_student_form').on('submit', function (event) {
                const cName = $('#chinese_name').val().trim();
                const eName = $('#english_name').val().trim();
                const num = $('#class_number').val().trim();
                const email = $('#email').val().trim();
                const username = $('#username').val().trim();
                const graduation = $('#graduation').val().trim();
                $('#c-alert, #eng-alert, #n-alert, #e-alert, #u-alert, #g-alert').hide();
                let isValid = true;
                if (cName === '') {
                    $('#c-alert').show();
                    isValid = false;
                }
                if (eName === '') {
                    $('#eng-alert').show();
                    isValid = false;
                }
                // Assuming position should be a number and between 1 and 20
                if (num === '') {
                    $('#n-alert').show();
                    isValid = false;
                }
                if (email === '') {
                    $('#e-alert').show();
                    isValid = false;
                }
                if (username === '') {
                    $('#u-alert').show();
                    isValid = false;
                }
                if(graduation === '') {
                    $('#g-alert').show();
                    isValid = false;
                }
                if (!isValid) {
                    event.preventDefault();
                }
            });
        });
    </script>
    </body>
{% endblock %}


